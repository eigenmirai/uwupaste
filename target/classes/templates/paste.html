<!DOCTYPE html>
<html lang="en" data-bs-theme="dark" xmlns:th="https://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" th:href="@{/assets/css/style.css}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/github-dark.css"> <!--github theme-->

  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script> <!--syntax highlighting-->
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script> <!--https://github.com/wcoder/highlightjs-line-numbers.js/-->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <script defer type="text/javascript" th:src="@{/assets/js/script.js}"></script>

  <title th:text="${title}"></title>
</head>
<body>
<script>
  hljs.highlightAll();
  hljs.initLineNumbersOnLoad();
</script>
<div th:replace="home :: navbar"></div>
<br>
<div class="container">
  <!--title box-->
  <div class="p-2 border rounded">
    <h1 th:text="${title}" style="margin-right: 10px; display: inline;"></h1>
    <h1 style="display: inline;"><span th:style="'background-color: '+${lang.getColor()}+';'" class="badge" th:text="${lang.getPrettyName()}"></span></h1>
    <em style="display: block;" th:text="'Paste ID: ' + ${id}"></em>
  </div>
  <br>
  <!--code block-->
  <pre class="border rounded codeblock">
    <code th:class="'hljs language-'+${lang.getName()}" id="paste" th:text="${text}"></code>
  </pre>
  <!--buttons and paste info-->
  <div>
    <div style="float: left;">
      <button type="button" class="btn btn-primary" id="btn-copy">Copy</button>
      <button type="button" class="btn btn-secondary" id="btn-share">Share</button>
    </div>
    <div style="float: right; font-size: 12px;">
      <span th:text="'Uploaded '+${timestamp}"></span><span class="file-info-divider"></span><span th:text="${size}"></span>
    </div>
  </div>
  <br><br>

  <!--latest paste cards-->
  <div class="p-3" th:unless="${latestN == 0}">
    <div class="row row-cols-1 row-cols-md-3 g-4">
      <div class="col" th:each="p : ${latest}">
        <div class="card h-100">

          <div class="card-header">
            <span th:text="${p.language().getPrettyName()}" style="margin-right: 10px;"></span><span class="badge text-bg-info" th:if="${p.when() < 86400}">New</span>
          </div>
          <div class="card-body">
            <h5 class="card-title"><a th:text="${p.getTitle()}" th:href="'/paste/' + ${p.getId()}"></a></h5>
            <p class="card-text" th:text="${p.getPreview()}"></p>
          </div>
          <div class="card-footer" style="align: center;">
            <small class="text-body-secondary" th:text="'Uploaded ' + ${p.formatTimestamp()} + ' by ' + ${p.getUploaderUsername()}"></small>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>
</body>
</html>